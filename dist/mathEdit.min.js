"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,i){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t=t||self).MathEdit=i()}(void 0,function(){function e(t){console.warn(t)}var o="";function n(t){return o+" "+t}function i(t){if(!(this instanceof i))return e("MathEdit is a constructor and should be called with the `new` keyword");this._initData(t),this._initRender()}return i.prototype._initData=function(t){var i=this;return t&&"object"===(void 0===t?"undefined":_typeof(t))?void 0===t.elId?e("Please introduce a options with `elemId`!"):(this.options=t,this.config={defaultFontSize:"18px",viewFontSize:"14px"},Object.keys(this.options).forEach(function(t){"object"===_typeof(i.options[t])&&i[t]?i[t]=Object.assign({},i[t],i.options[t]):i[t]=i.options[t]}),t=this.elId,void(o="#"+t)):e("Please introduce a options of object to new !")},i.prototype._initRender=function(){var o,t=this.elId;function i(t){for(var i="<div class='mathIcon'>",e=0;e<t.count;e++)i+="<li onclick=\"insertMath('"+o[t.groupid][e]+'\')" style="background-position:-'+(t.x+34*Math.floor(e%8))+"px -"+(t.y+34*Math.floor(e/8))+'px;"></li>';return i+="</div>",16<t.count&&(i+="<div class='more' mrows='"+Math.floor((t.count+8-1)/8)+"' isOpen='0'>更多</div>"),i}function e(t){$(n("#jme-math")).focus().mathquill("write",t.replace("{/}","\\"))}t=t,document.getElementById(t).innerHTML='<div id="mathEdit1601362544188"><div class="tabMenu"><div class="tabTitle"><li>常用公式</li><li>字母</li>\t\t<li>\t\t\t符号\t\t</li>\t</div>\t<div class="tabContent">\t\t<div class="mathBox">\t\t</div>\t\t<div class="mathBox">\t\t</div>\t\t<div class="mathBox">\t\t</div>\t</div></div><div id="mathDiv">\t<p>\t\t<span id="jme-math"></span>\t</p>\t<p>&nbsp;</p></div></div>',t=this.config,o=[["{/}frac{}{}","^{}/_{}","x^{}","x_{}","x^{}_{}","{/}bar{}","{/}sqrt{}","{/}nthroot{}{}","{/}sum^{}_{n=}","{/}sum","{/}log_{}","{/}ln","{/}int_{}^{}","{/}oint_{}^{}"],["{/}alpha","{/}beta","{/}gamma","{/}delta","{/}varepsilon","{/}varphi","{/}lambda","{/}mu","{/}rho","{/}sigma","{/}omega","{/}Gamma","{/}Delta","{/}Theta","{/}Lambda","{/}Xi","{/}Pi","{/}Sigma","{/}Upsilon","{/}Phi","{/}Psi","{/}Omega"],["+","-","{/}pm","{/}times","{/}ast","{/}div","/","{/}bigtriangleup","=","{/}ne","{/}approx",">","<","{/}ge","{/}le","{/}infty","{/}cap","{/}cup","{/}because","{/}therefore","{/}subset","{/}supset","{/}subseteq","{/}supseteq","{/}nsubseteq","{/}nsupseteq","{/}in","{/}ni","{/}notin","{/}mapsto","{/}leftarrow","{/}rightarrow","{/}Leftarrow","{/}Rightarrow","{/}leftrightarrow","{/}Leftrightarrow"]],window&&(window.insertMath=e),$(n(".tabContent div.mathBox")).hide(),$(n(".tabTitle li")).click(function(){$(".tabContent div.mathBox").hide();var e=0,o=this;$(".tabTitle li").each(function(t,i){o==i&&(e=t)}),$(".tabTitle li").removeClass("current"),$(o).addClass("current"),$(".tabContent div.mathBox:eq("+e+")").show()}),$(n(".tabTitle li:eq(0)")).click(),$(n(".tabContent div.mathBox:eq(0)")).html(i({groupid:0,x:0,y:272,count:14})),$(n(".tabContent div.mathBox:eq(2)")).html(i({groupid:2,x:0,y:0,count:36})),$(n(".tabContent div.mathBox:eq(1)")).html(i({groupid:1,x:0,y:170,count:22})),$(n(".tabContent div.mathBox div.more")).click(function(){var t=$(this).parent().find(".mathIcon");"0"==$(this).attr("isOpen")?(t.animate({height:40*Number($(this).attr("mrows"))+"px"}),$(this).html("↑ 收起"),$(this).attr("isOpen","1")):(t.animate({height:"80px"}),$(this).html("更多"),$(this).attr("isOpen","0"))}),$(n("#jme-math")).html("").css("font-size",t.defaultFontSize).mathquill("editable").mathquill("write","")},i.prototype.getValue=function(){return'<span class="mathquill-rendered-math" style="font-size:'+this.config.viewFontSize+';" >'+$(n("#jme-math")).html()+"</span><span>&nbsp;</span>"},i.prototype.isEmpty=function(){return($(n("#jme-math")).html()+"").replace(/(<[^>]*>|\s|&nbsp;)/gi,"").length<1},i});
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function m(){}function t(t){var e=st.call(arguments,1);return function(){return t.apply(this,e)}}function h(t,e){if(!e)throw new Error("prayer failed: "+t)}function o(n,e,t,s){function r(){var t;i=d,t=a.selection?"$"+a.selection.latex()+"$":"",f.select(t)}var a,o,h,i,l,c,p=n.contents().detach();if(t||n.addClass("mathquill-rendered-math"),e.jQ=n.attr(it,e.id),e.revert=function(){n.empty().unbind(".mathquill").removeClass("mathquill-rendered-math mathquill-editable mathquill-textbox").append(p)},a=e.cursor=F(e),e.renderLatex(p.text()),o=e.textarea=et('<span class="textarea"><textarea></textarea></span>'),h=o.children(),e.selectionChanged=function(){i===d&&(i=setTimeout(r)),y(n[0])},n.bind("selectstart.mathquill",function(t){t.target!==h[0]&&t.preventDefault(),t.stopPropagation()}),c=a.blink,n.bind("mousedown.mathquill",function(t){function r(t){return a.seek(et(t.target),t.pageX,t.pageY),a.prev===l.prev&&a.parent===l.parent||a.selectFrom(l),!1}function i(t){return delete t.target,r(t)}return setTimeout(function(){h.focus()}),a.blink=m,a.seek(et(t.target),t.pageX,t.pageY),l={parent:a.parent,prev:a.prev,next:a.next},s||n.prepend(o),n.mousemove(r),et(t.target.ownerDocument).mousemove(i).mouseup(function t(e){l=d,a.blink=c,a.selection||(s?a.show():o.detach()),n.unbind("mousemove",r),et(e.target.ownerDocument).unbind("mousemove",i).unbind("mouseup",t)}),!1}),!s){var u=function(){o.detach()},f=v(h,{container:n});return n.bind("cut paste",!1).bind("copy",r).prepend('<span class="selectable">$'+e.latex()+"$</span>"),void h.blur(function(){a.clearSelection(),setTimeout(u)})}f=v(h,{container:n,key:function(t,e){a.parent.bubble("onKey",t,e)},text:function(t){a.parent.bubble("onText",t)},cut:function(t){a.selection&&setTimeout(function(){a.prepareEdit(),a.parent.bubble("redraw")}),t.stopPropagation()},paste:function(t){t="$"===t.slice(0,1)&&"$"===t.slice(-1)?t.slice(1,-1):"\\text{"+t+"}",a.writeLatex(t).show()}}),n.prepend(o),n.addClass("mathquill-editable"),t&&n.addClass("mathquill-textbox"),h.focus(function(t){a.parent||a.appendTo(e),a.parent.jQ.addClass("hasCursor"),a.selection?(a.selection.jQ.removeClass("blur"),setTimeout(e.selectionChanged)):a.show(),t.stopPropagation()}).blur(function(t){a.hide().parent.blur(),a.selection&&a.selection.jQ.addClass("blur"),t.stopPropagation()}),n.bind("focus.mathquill blur.mathquill",function(t){h.trigger(t)}).blur()}function e(t,e,r){return i(E,{ctrlSeq:t,htmlTemplate:"<"+e+" "+r+">&0</"+e+">"})}var d,i,v,c,r,n,s,p,a,l,u,f,x,b,g,w,C,j,y,Q,k,q,T,S,A,B,L,E,R,z,D,_,$,I,N,F,M,U,P,W,O,H,K,G,X,Z,Y,J,V,tt,et=jQuery,rt="mathquill-command-id",it="mathquill-block-id",nt=Math.min,st=(Math.max,[].slice);function at(t){return"object"==(void 0===t?"undefined":_typeof(t))}function ot(t){return"function"==typeof t}for(q in W="prototype",O={}.hasOwnProperty,P={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},v=function(t,e){function r(t){d=t,setTimeout(t)}function i(t){var e=f.val();f.val(""),e&&t(e)}function n(){var t,e,r,i;c((e=(t=o).which||t.keyCode,r=P[e],i=[],t.ctrlKey&&i.push("Ctrl"),t.originalEvent&&t.originalEvent.metaKey&&i.push("Meta"),t.altKey&&i.push("Alt"),t.shiftKey&&i.push("Shift"),e=r||String.fromCharCode(e),i.length||r?(i.push(e),i.join("-")):e),o)}function s(){var t;"selectionStart"in(t=f[0])&&t.selectionStart!==t.selectionEnd||i(l)}function a(){i(p)}var o=null,h=null,l=(e=e||{}).text||m,c=e.key||m,p=e.paste||m,u=e.cut||m,f=et(t),e=et(e.container||f),d=m;return e.bind("keydown keypress input keyup focusout paste",function(){d()}),e.bind({keydown:function(t){o=t,h=null,n()},keypress:function(t){o&&h&&n(),h=t,r(s)},focusout:function(){o=h=null},cut:u,paste:function(t){f.focus(),r(a)}}),{select:function(t){d(),f.val(t),t&&f[0].select()}}},c=(i=function(r,t){function i(t){if(!(this instanceof i))return new i(arguments);t&&ot(this.init)&&this.init.apply(this,t)}void 0===t&&(t=r,r=Object);var n,s=i[W]=new r,a=r[W],e=i.mixin=function(t){if(n={},ot(t)?n=t.call(i,s,a,i,r):at(t)&&(n=t),at(n))for(var e in n)O.call(n,e)&&(s[e]=n[e]);return ot(s.init)||(s.init=function(){r.apply(this,arguments)}),i};return s.constructor=i,e(t)})(function(t,e,o){function r(t,e){throw"Parse Error: "+e+" at "+(t=t?"'"+t+"'":"EOF")}t.init=function(t){this._=t},t.parse=function(t){return this.skip(n)._(t,function(t,e){return e},r)},t.or=function(n){h("or is passed a parser",n instanceof o);var t=this;return o(function(e,r,i){return t._(e,r,function(t){return n._(e,r,i)})})},t.then=function(n){var e=this;return o(function(t,r,i){return e._(t,function(t,e){return h("a parser is returned",(e=n instanceof o?n:n(e))instanceof o),e._(t,r,i)},i)})},t.many=function(){var a=this;return o(function(r,t,e){function i(t,e){return r=t,s.push(e),!0}function n(){return!1}for(var s=[];a._(r,i,n););return t(r,s)})},t.times=function(c,p){arguments.length<2&&(p=c);var u=this;return o(function(r,t,e){function i(t,e){return o.push(e),r=t,!0}function n(t,e){return a=e,r=t,!1}function s(t,e){return!1}for(var a,o=[],h=!0,l=0;l<c;l+=1)if(!(h=u._(r,i,n)))return e(r,a);for(;l<p&&h;l+=1)h=u._(r,i,s);return t(r,o)})},t.result=function(t){return this.then(i(t))},t.atMost=function(t){return this.times(0,t)},t.atLeast=function(t){var r=this;return r.times(t).then(function(e){return r.many().map(function(t){return e.concat(t)})})},t.map=function(e){return this.then(function(t){return i(e(t))})},t.skip=function(e){return this.then(function(t){return e.result(t)})};this.string=function(n){var s=n.length,a="expected '"+n+"'";return o(function(t,e,r){var i=t.slice(0,s);return i===n?e(t.slice(s),i):r(t,a)})};var t=this.regex=function(n){h("regexp parser is anchored","^"===n.toString().charAt(1));var s="expected "+n;return o(function(t,e,r){var i=n.exec(t);if(i){i=i[0];return e(t.slice(i.length),i)}return r(t,s)})},i=o.succeed=function(r){return o(function(t,e){return e(t,r)})},n=(o.fail=function(i){return o(function(t,e,r){return r(t,i)})},o.letter=t(/^[a-z]/i),o.letters=t(/^[a-z]*/i),o.digit=t(/^[0-9]/),o.digits=t(/^[0-9]*/),o.whitespace=t(/^\s+/),o.optWhitespace=t(/^\s*/),o.any=o(function(t,e,r){return t?e(t.slice(1),t.charAt(0)):r(t,"expected any character")}),o.all=o(function(t,e,r){return e("",t)}),o.eof=o(function(t,e,r){return t?r(t,"expected EOF"):e(t,t)}))}),r=i(function(t){t.prev=0,t.next=0,t.parent=0,t.firstChild=0,t.lastChild=0,t.children=function(){return n(this.firstChild,this.lastChild)},t.eachChild=function(t){return this.children().each(t)},t.foldChildren=function(t,e){return this.children().fold(t,e)},t.adopt=function(t,e,r){return n(this,this).adopt(t,e,r),this},t.disown=function(){return n(this,this).disown(),this}}),n=i(function(t){function a(t,e,r){h("a parent is always present",t),h("prev is properly set up",e?e.next===r&&e.parent===t:t.firstChild===r),h("next is properly set up",r?r.prev===e&&r.parent===t:t.lastChild===e)}t.first=0,t.last=0,t.init=function(t,e){h("no half-empty fragments",!t==!e),t&&(h("first node is passed to Fragment",t instanceof r),h("last node is passed to Fragment",e instanceof r),h("first and last have the same parent",t.parent===e.parent),this.first=t,this.last=e)},t.adopt=function(e,r,t){a(e,r,t);var i=this;i.disowned=!1;var n=i.first;if(!n)return this;var s=i.last;return r||(e.firstChild=n),t?t.prev=s:e.lastChild=s,i.last.next=t,i.each(function(t){t.prev=r,t.parent=e,r&&(r.next=t),r=t}),i},t.disown=function(){var t=this,e=t.first;if(!e||t.disowned)return t;t.disowned=!0;var r=t.last,i=e.parent;return a(i,e.prev,e),a(i,r,r.next),e.prev?e.prev.next=r.next:i.firstChild=r.next,r.next?r.next.prev=e.prev:i.lastChild=e.prev,t},t.each=function(t){var e=this,r=e.first;if(!r)return e;for(;r!==e.last.next&&!1!==t.call(e,r);r=r.next);return e},t.fold=function(e,r){return this.each(function(t){e=r.call(this,e,t)}),e}}),U=0,s=function(){return U+=1},p=i(r,function(t){t.init=function(t){this.id=s(),p[this.id]=this},t.toString=function(){return"[MathElement "+this.id+"]"},t.bubble=function(t){for(var e=st.call(arguments,1),r=this;r;r=r.parent){if(!1===(r[t]&&r[t].apply(r,e)))break}return this},t.postOrder=function(r){var e;st.call(arguments,1);"string"==typeof r&&(e=r,r=function(t){e in t&&t[e].apply(t,arguments)}),function t(e){e.eachChild(t),r(e)}(this)},t.jQ=et(),t.jQadd=function(t){this.jQ=this.jQ.add(t)},this.jQize=function(t){t=et(t);return void 0!==t.find("*").andSelf?t.find("*").andSelf().each(function(){var t=et(this),e=t.attr("mathquill-command-id"),r=t.attr("mathquill-block-id");e&&p[e].jQadd(t),r&&p[r].jQadd(t)}):t.find("*").addBack().each(function(){var t=et(this),e=t.attr("mathquill-command-id"),r=t.attr("mathquill-block-id");e&&p[e].jQadd(t),r&&p[r].jQadd(t)}),t},t.finalizeInsert=function(){var t=this;t.postOrder("finalizeTree"),t.postOrder("blur"),t.postOrder("respace"),t.next.respace&&t.next.respace(),t.prev.respace&&t.prev.respace(),t.postOrder("redraw"),t.bubble("redraw")}}),a=i(p,function(t,n){t.init=function(t,e,r){var i=this;n.init.call(i),i.ctrlSeq||(i.ctrlSeq=t),e&&(i.htmlTemplate=e),r&&(i.textTemplate=r)},t.replaces=function(t){t.disown(),this.replacedFragment=t},t.isEmpty=function(){return this.foldChildren(!0,function(t,e){return t&&e.isEmpty()})},t.parser=function(){var t=N.block,r=this;return t.times(r.numBlocks()).map(function(t){r.blocks=t;for(var e=0;e<t.length;e+=1)t[e].adopt(r,r.lastChild,0);return r})},t.createBefore=function(t){var e=this,r=e.replacedFragment;e.createBlocks(),p.jQize(e.html()),r&&(r.adopt(e.firstChild,0,0),r.jQ.appendTo(e.firstChild.jQ)),t.jQ.before(e.jQ),t.prev=e.adopt(t.parent,t.prev,t.next),e.finalizeInsert(t),e.placeCursor(t)},t.createBlocks=function(){for(var t=this.numBlocks(),e=this.blocks=Array(t),r=0;r<t;r+=1){(e[r]=u()).adopt(this,this.lastChild,0)}},t.respace=m,t.placeCursor=function(t){t.appendTo(this.foldChildren(this.firstChild,function(t,e){return t.isEmpty()?t:e}))},t.remove=function(){return this.disown(),this.jQ.remove(),this.postOrder(function(t){delete p[t.id]}),this},t.numBlocks=function(){var t=this.htmlTemplate.match(/&\d+/g);return t?t.length:0},t.html=function(){var r=this.blocks,t=" mathquill-command-id="+this.id,e=this.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);h("no unmatched angle brackets",e.join("")===this.htmlTemplate);for(var i=0,n=e[0];n;n=e[i+=1])if("/>"===n.slice(-2))e[i]=n.slice(0,-2)+t+"/>";else if("<"===n.charAt(0)){h("not an unmatched top-level close tag","/"!==n.charAt(1)),e[i]=n.slice(0,-1)+t+">";for(var s=1;h("no missing close tags",n=e[i+=1]),"</"===n.slice(0,2)?--s:"<"===n.charAt(0)&&"/>"!==n.slice(-2)&&(s+=1),0<s;);}return e.join("").replace(/>&(\d+)/g,function(t,e){return" mathquill-block-id="+r[e].id+">"+r[e].join("html")})},t.latex=function(){return this.foldChildren(this.ctrlSeq,function(t,e){return t+"{"+(e.latex()||" ")+"}"})},t.textTemplate=[""],t.text=function(){var i=0;return this.foldChildren(this.textTemplate[i],function(t,e){i+=1;var r=e.text();return t&&"("===this.textTemplate[i]&&"("===r[0]&&")"===r.slice(-1)?t+r.slice(1,-1)+this.textTemplate[i]:t+e.text()+(this.textTemplate[i]||"")})}}),l=i(a,function(t,i){t.init=function(t,e,r){r=r||(t&&1<t.length?t.slice(1):t),i.init.call(this,t,e,[r])},t.parser=function(){return c.succeed(this)},t.numBlocks=function(){return 0},t.replaces=function(t){t.remove()},t.createBlocks=m,t.latex=function(){return this.ctrlSeq},t.text=function(){return this.textTemplate},t.placeCursor=m,t.isEmpty=function(){return!0}}),u=i(p,function(t){t.join=function(r){return this.foldChildren("",function(t,e){return t+e[r]()})},t.latex=function(){return this.join("latex")},t.text=function(){return this.firstChild===this.lastChild?this.firstChild.text():"("+this.join("text")+")"},t.isEmpty=function(){return 0===this.firstChild&&0===this.lastChild},t.focus=function(){return this.jQ.addClass("hasCursor"),this.jQ.removeClass("empty"),this},t.blur=function(){return this.jQ.removeClass("hasCursor"),this.isEmpty()&&this.jQ.addClass("empty"),this}}),f=i(n,function(t,r){t.init=function(t,e){r.init.call(this,t,e||t),this.jQ=this.fold(et(),function(t,e){return e.jQ.add(t)})},t.latex=function(){return this.fold("",function(t,e){return t+e.latex()})},t.remove=function(){return this.jQ.remove(),this.each(function(t){t.postOrder(function(t){delete p[t.id]})}),this.disown()}}),x=i(u,function(t,e){t.latex=function(){return e.latex.call(this).replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},t.text=function(){return this.foldChildren("",function(t,e){return t+e.text()})},t.renderLatex=function(t){this.jQ.children().slice(1).remove(),this.firstChild=this.lastChild=0,this.cursor.appendTo(this).writeLatex(t)},t.onKey=function(t,e){switch(t){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":for(;this.cursor.prev||this.cursor.selection;)this.cursor.backspace();break;case"Shift-Backspace":case"Backspace":this.cursor.backspace();break;case"Esc":case"Tab":case"Spacebar":if((r=this.cursor.parent)===this.cursor.root)return void("Spacebar"===t&&e.preventDefault());this.cursor.prepareMove(),r.next?this.cursor.prependTo(r.next):this.cursor.insertAfter(r.parent);break;case"Shift-Tab":case"Shift-Esc":case"Shift-Spacebar":var r;if((r=this.cursor.parent)===this.cursor.root)return void("Shift-Spacebar"===t&&e.preventDefault());this.cursor.prepareMove(),r.prev?this.cursor.appendTo(r.prev):this.cursor.insertBefore(r.parent);break;case"Enter":break;case"End":this.cursor.prepareMove().appendTo(this.cursor.parent);break;case"Ctrl-End":this.cursor.prepareMove().appendTo(this);break;case"Shift-End":for(;this.cursor.next;)this.cursor.selectRight();break;case"Ctrl-Shift-End":for(;this.cursor.next||this.cursor.parent!==this;)this.cursor.selectRight();break;case"Home":this.cursor.prepareMove().prependTo(this.cursor.parent);break;case"Ctrl-Home":this.cursor.prepareMove().prependTo(this);break;case"Shift-Home":for(;this.cursor.prev;)this.cursor.selectLeft();break;case"Ctrl-Shift-Home":for(;this.cursor.prev||this.cursor.parent!==this;)this.cursor.selectLeft();break;case"Left":this.cursor.moveLeft();break;case"Shift-Left":this.cursor.selectLeft();break;case"Ctrl-Left":break;case"Right":this.cursor.moveRight();break;case"Shift-Right":this.cursor.selectRight();break;case"Ctrl-Right":break;case"Up":this.cursor.moveUp();break;case"Down":this.cursor.moveDown();break;case"Shift-Up":if(this.cursor.prev)for(;this.cursor.prev;)this.cursor.selectLeft();else this.cursor.selectLeft();case"Shift-Down":if(this.cursor.next)for(;this.cursor.next;)this.cursor.selectRight();else this.cursor.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":for(;this.cursor.next||this.cursor.selection;)this.cursor.deleteForward();break;case"Shift-Del":case"Del":this.cursor.deleteForward();break;case"Meta-A":case"Ctrl-A":if(this!==this.cursor.root)return;for(this.cursor.prepareMove().appendTo(this);this.cursor.prev;)this.cursor.selectLeft();break;default:return!1}return e.preventDefault(),!1},t.onText=function(t){return this.cursor.write(t),!1}}),b=i(a,function(t,e){t.init=function(t){e.init.call(this,"$"),this.cursor=t},t.htmlTemplate='<span class="mathquill-rendered-math">&0</span>',t.createBlocks=function(){this.firstChild=this.lastChild=x(),this.blocks=[this.firstChild];var e=(this.firstChild.parent=this).firstChild.cursor=this.cursor;this.firstChild.onText=function(t){return"$"!==t||e.parent!==this?e.write(t):this.isEmpty()?e.insertAfter(this.parent).backspace().insertNew(D("\\$","$")).show():e.next?e.prev?e.write(t):e.insertBefore(this.parent):e.insertAfter(this.parent),!1}},t.latex=function(){return"$"+this.firstChild.latex()+"$"}}),g=i(u,function(t){t.renderLatex=function(t){var e=this,i=e.cursor;e.jQ.children().slice(1).remove(),e.firstChild=e.lastChild=0,i.show().appendTo(e);var r=c.regex,n=c.string,s=c.eof,a=c.all,o=n("$").then(N).skip(n("$").or(s)).map(function(t){var e=b(i);e.createBlocks();var r=e.firstChild;return t.children().adopt(r,0,0),e}),r=n("\\$").result("$").or(r(/^[^$]/)).map(D),h=o.or(r).many().skip(s).or(a.result(!1)).parse(t);if(h){for(var l=0;l<h.length;l+=1)h[l].adopt(e,e.lastChild,0);t=e.join("html");p.jQize(t).appendTo(e.jQ),this.finalizeInsert()}},t.onKey=x.prototype.onKey,t.onText=function(t){return this.cursor.prepareEdit(),"$"===t?this.cursor.insertNew(b(this.cursor)):this.cursor.insertNew(D(t)),!1}}),w={},C={},y=m,Q=document.createElement("div").style,{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(q in Q){k=q;break}function ht(t){for(var e=t[0]||u(),r=1;r<t.length;r+=1)t[r].children().adopt(e,e.lastChild,0);return e}j=k?function(t,e,r){t.css(k,"scale("+e+","+r+")")}:"filter"in Q?(y=function(t){t.className=t.className},function(t,e,r){function i(){t.css("marginRight",(n.width()-1)*(e-1)/e+"px")}var n,s;e/=1+(r-1)/2,t.css("fontSize",r+"em"),t.hasClass("matrixed-container")||t.addClass("matrixed-container").wrapInner('<span class="matrixed"></span>'),n=t.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+e+",SizingMethod='auto expand')"),i(),s=setInterval(i),et(window).load(function(){clearTimeout(s),i()})}):function(t,e,r){t.css("fontSize",r+"em")},G=i(a,function(t,i){t.init=function(t,e,r){i.init.call(this,t,"<"+e+" "+r+">&0</"+e+">")}}),C.mathrm=t(G,"\\mathrm","span",'class="roman font"'),C.mathit=t(G,"\\mathit","i",'class="font"'),C.mathbf=t(G,"\\mathbf","b",'class="font"'),C.mathsf=t(G,"\\mathsf","span",'class="sans-serif font"'),C.mathtt=t(G,"\\mathtt","span",'class="monospace font"'),C.underline=t(G,"\\underline","span",'class="non-leaf underline"'),C.overline=C.bar=t(G,"\\overline","span",'class="non-leaf overline"'),T=i(a,function(t,i){t.init=function(t,e,r){i.init.call(this,t,"<"+e+' class="non-leaf">&0</'+e+">",[r])},t.finalizeTree=function(){function t(t){var e=this.parent,r=t;do{if(r.next)return t.insertBefore(e),!1;r=r.parent.parent}while(r!==e);return t.insertAfter(e),!1}h("SupSub is only _ and ^","^"===this.ctrlSeq||"_"===this.ctrlSeq),"_"===this.ctrlSeq?(this.down=this.firstChild,this.firstChild.up=t):(this.up=this.firstChild,this.firstChild.down=t)},t.latex=function(){var t=this.firstChild.latex();return 1===t.length?this.ctrlSeq+t:this.ctrlSeq+"{"+(t||" ")+"}"},t.redraw=function(){this.prev&&this.prev.respace(),this.prev instanceof T||(this.respace(),!this.next||this.next instanceof T||this.next.respace())},t.respace=function(){var t,e,r;return"\\int "===this.prev.ctrlSeq||this.prev instanceof T&&this.prev.ctrlSeq!=this.ctrlSeq&&this.prev.prev&&"\\int "===this.prev.prev.ctrlSeq?this.limit||(this.limit=!0,this.jQ.addClass("limit")):this.limit&&(this.limit=!1,this.jQ.removeClass("limit")),this.respaced=this.prev instanceof T&&this.prev.ctrlSeq!=this.ctrlSeq&&!this.prev.respaced,this.respaced?(t=+this.jQ.css("fontSize").slice(0,-2),e=this.prev.jQ.outerWidth(),r=this.jQ.outerWidth(),this.jQ.css({left:(this.limit&&"_"===this.ctrlSeq?-.25:0)-e/t+"em",marginRight:.1-nt(r,e)/t+"em"})):this.limit&&"_"===this.ctrlSeq?this.jQ.css({left:"-.25em",marginRight:""}):this.jQ.css({left:"",marginRight:""}),this.next instanceof T&&this.next.respace(),this}}),C.subscript=C._=t(T,"_","sub","_"),C.superscript=C.supscript=C["^"]=t(T,"^","sup","**"),X=C.frac=C.dfrac=C.cfrac=C.fraction=i(a,function(t,e){t.ctrlSeq="\\frac",t.htmlTemplate='<span class="fraction non-leaf"><span class="numerator">&0</span><span class="denominator">&1</span><span style="display:inline-block;width:0">&nbsp;</span></span>',t.textTemplate=["(","/",")"],t.finalizeTree=function(){this.up=this.lastChild.up=this.firstChild,this.down=this.firstChild.down=this.lastChild}}),S=C.over=w["/"]=i(X,function(t,r){t.createBefore=function(t){if(!this.replacedFragment){for(var e=t.prev;e&&!(e instanceof _||e instanceof E||e instanceof $);)e=e.prev;e instanceof $&&e.next instanceof T&&((e=e.next).next instanceof T&&e.next.ctrlSeq!=e.ctrlSeq&&(e=e.next)),e!==t.prev&&(this.replaces(f(e.next||t.parent.firstChild,t.prev)),t.prev=e)}r.createBefore.call(this,t)}}),Z=C.sqrt=C["√"]=i(a,function(t,e){t.ctrlSeq="\\sqrt",t.htmlTemplate='<span class="non-leaf"><span class="scaled sqrt-prefix">&radic;</span><span class="non-leaf sqrt-stem">&0</span></span>',t.textTemplate=["sqrt(",")"],t.parser=function(){return N.optBlock.then(function(r){return N.block.map(function(t){var e=A();return e.blocks=[r,t],r.adopt(e,0,0),t.adopt(e,r,0),e})}).or(e.parser.call(this))},t.redraw=function(){var t=this.lastChild.jQ;j(t.prev(),1,t.innerHeight()/+t.css("fontSize").slice(0,-2)-.1)}}),A=C.nthroot=i(Z,function(t,e){t.htmlTemplate='<sup class="nthroot non-leaf">&0</sup><span class="scaled"><span class="sqrt-prefix scaled">&radic;</span><span class="sqrt-stem non-leaf">&1</span></span>',t.textTemplate=["sqrt[","](",")"],t.latex=function(){return"\\sqrt["+this.firstChild.latex()+"]{"+this.lastChild.latex()+"}"}}),B=i(a,function(t,n){t.init=function(t,e,r,i){n.init.call(this,"\\left"+r,'<span class="non-leaf"><span class="scaled paren">'+t+'</span><span class="non-leaf">&0</span><span class="scaled paren">'+e+"</span></span>",[t,e]),this.end="\\right"+i},t.jQadd=function(){n.jQadd.apply(this,arguments);var t=this.jQ;this.bracketjQs=t.children(":first").add(t.children(":last"))},t.latex=function(){return this.ctrlSeq+this.firstChild.latex()+this.end},t.redraw=function(){var t=this.firstChild.jQ,t=t.outerHeight()/+t.css("fontSize").slice(0,-2);j(this.bracketjQs,nt(1+.2*(t-1),1.2),1.05*t)}}),C.left=i(a,function(t){t.parser=function(){var r=c.regex,i=c.string,r=c.regex,n=c.succeed,s=(N.block,c.optWhitespace);return s.then(r(/^(?:[([|]|\\\{)/)).then(function(t){var e;return"\\"===t.charAt(0)&&(t=t.slice(1)),e=w[t](),N.map(function(t){e.blocks=[t],t.adopt(e,0,0)}).then(i("\\right")).skip(s).then(r(/^(?:[\])|]|\\\})/)).then(function(t){return t.slice(-1)!==e.end.slice(-1)?c.fail("open doesn't match close"):n(e)})})}}),C.right=i(a,function(t){t.parser=function(){return c.fail("unmatched \\right")}}),C.lbrace=w["{"]=t(B,"{","}","\\{","\\}"),C.langle=C.lang=t(B,"&lang;","&rang;","\\langle ","\\rangle "),L=i(B,function(t,e){t.createBefore=function(t){t.next||!t.parent.parent||t.parent.parent.end!==this.end||this.replacedFragment?e.createBefore.call(this,t):t.insertAfter(t.parent.parent)},t.placeCursor=function(t){this.firstChild.blur(),t.insertAfter(this)}}),C.rbrace=w["}"]=t(L,"{","}","\\{","\\}"),C.rangle=C.rang=t(L,"&lang;","&rang;","\\langle ","\\rangle "),K=i(B,V=function(t,r){t.init=function(t,e){r.init.call(this,t,e,t,e)}}),C.lparen=w["("]=t(K,"(",")"),C.lbrack=C.lbracket=w["["]=t(K,"[","]"),H=i(L,V),C.rparen=w[")"]=t(H,"(",")"),C.rbrack=C.rbracket=w["]"]=t(H,"[","]"),C.lpipe=C.rpipe=w["|"]=i(K,function(t,e){t.init=function(){e.init.call(this,"|","|")},t.createBefore=L.prototype.createBefore}),E=w.$=C.text=C.textnormal=C.textrm=C.textup=C.textmd=i(a,function(t,r){t.ctrlSeq="\\text",t.htmlTemplate='<span class="text">&0</span>',t.replaces=function(t){t instanceof f?this.replacedText=t.remove().jQ.text():"string"==typeof t&&(this.replacedText=t)},t.textTemplate=['"','"'],t.parser=function(){var t=c.string,e=c.regex;return c.optWhitespace.then(t("{")).then(e(/^[^}]*/)).skip(t("}")).map(function(t){var e=E();e.createBlocks();for(var r=e.firstChild,i=0;i<t.length;i+=1){D(t.charAt(i)).adopt(r,r.lastChild,0)}return e})},t.createBlocks=function(){this.firstChild=this.lastChild=R(),this.blocks=[this.firstChild],this.firstChild.parent=this},t.finalizeInsert=function(){this.firstChild.blur=function(){return delete this.blur,this},r.finalizeInsert.call(this)},t.createBefore=function(t){if(r.createBefore.call(this,this.cursor=t),this.replacedText)for(var e=0;e<this.replacedText.length;e+=1)this.write(this.replacedText.charAt(e))},t.write=function(t){this.cursor.insertNew(D(t))},t.onKey=function(t,e){if(!this.cursor.selection&&("Backspace"===t&&!this.cursor.prev||"Del"===t&&!this.cursor.next))return this.isEmpty()&&this.cursor.insertAfter(this),!1},t.onText=function(t){return this.cursor.prepareEdit(),"$"!==t?this.write(t):this.isEmpty()?this.cursor.insertAfter(this).backspace().insertNew(D("\\$","$")):this.cursor.next?this.cursor.prev?((t=E(f(this.cursor.next,this.firstChild.lastChild))).placeCursor=function(t){this.prev=0,delete this.placeCursor,this.placeCursor(t)},t.firstChild.focus=function(){return this},this.cursor.insertAfter(this).insertNew(t),(t.prev=this).cursor.insertBefore(t),delete t.firstChild.focus):this.cursor.insertBefore(this):this.cursor.insertAfter(this),!1}}),R=i(u,function(t,n){t.blur=function(){var t,e;return this.jQ.removeClass("hasCursor"),this.isEmpty()&&((e=(t=this.parent).cursor).parent===this?this.jQ.addClass("empty"):(e.hide(),t.remove(),e.next===t?e.next=t.next:e.prev===t&&(e.prev=t.prev),e.show().parent.bubble("redraw"))),this},t.focus=function(){n.focus.call(this);var e,t,r,i=this.parent;return i.next.ctrlSeq===i.ctrlSeq?(e=this,r=i.cursor,(t=i.next.firstChild).eachChild(function(t){t.parent=e,t.jQ.appendTo(e.jQ)}),this.lastChild?this.lastChild.next=t.firstChild:this.firstChild=t.firstChild,t.firstChild.prev=this.lastChild,this.lastChild=t.lastChild,t.parent.remove(),r.prev?r.insertAfter(r.prev):r.prependTo(this),r.parent.bubble("redraw")):i.prev.ctrlSeq===i.ctrlSeq&&((r=i.cursor).prev?i.prev.firstChild.focus():r.appendTo(i.prev.firstChild)),this}}),C.em=C.italic=C.italics=C.emph=C.textit=C.textsl=e("\\textit","i",'class="text"'),C.strong=C.bold=C.textbf=e("\\textbf","b",'class="text"'),C.sf=C.textsf=e("\\textsf","span",'class="sans-serif text"'),C.tt=C.texttt=e("\\texttt","span",'class="monospace text"'),C.textsc=e("\\textsc","span",'style="font-variant:small-caps" class="text"'),C.uppercase=e("\\uppercase","span",'style="text-transform:uppercase" class="text"'),C.lowercase=e("\\lowercase","span",'style="text-transform:lowercase" class="text"'),w["\\"]=i(a,function(t,r){t.ctrlSeq="\\",t.replaces=function(t){this._replacedFragment=t.disown(),this.isEmpty=function(){return!1}},t.htmlTemplate='<span class="latex-command-input non-leaf">\\<span>&0</span></span>',t.textTemplate=["\\"],t.createBlocks=function(){r.createBlocks.call(this),this.firstChild.focus=function(){return this.parent.jQ.addClass("hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("empty"),this},this.firstChild.blur=function(){return this.parent.jQ.removeClass("hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("empty"),this}},t.createBefore=function(t){var e;r.createBefore.call(this,t),this.cursor=t.appendTo(this.firstChild),this._replacedFragment&&(e=this.jQ[0],this.jQ=this._replacedFragment.jQ.addClass("blur").bind("mousedown mousemove",function(t){return et(t.target=e).trigger(t),!1}).insertBefore(this.jQ).add(this.jQ))},t.latex=function(){return"\\"+this.firstChild.latex()+" "},t.onKey=function(t,e){if("Tab"===t||"Enter"===t||"Spacebar"===t)return this.renderCommand(),e.preventDefault(),!1},t.onText=function(t){return t.match(/[a-z]/i)?(this.cursor.prepareEdit(),this.cursor.insertNew(D(t)),!1):(this.renderCommand(),("\\"!==t||!this.firstChild.isEmpty())&&void 0)},t.renderCommand=function(){this.jQ=this.jQ.last(),this.remove(),this.next?this.cursor.insertBefore(this.next):this.cursor.appendTo(this.parent);var t=(t=this.firstChild.latex())||"backslash";this.cursor.insertCmd(t,this._replacedFragment)}}),G=C.binom=C.binomial=i(a,function(t,e){t.ctrlSeq="\\binom",t.htmlTemplate='<span class="paren scaled">(</span><span class="non-leaf"><span class="array non-leaf"><span>&0</span><span>&1</span></span></span><span class="paren scaled">)</span>',t.textTemplate=["choose(",",",")"],t.redraw=function(){var t=this.jQ.eq(1),e=t.outerHeight()/+t.css("fontSize").slice(0,-2),t=this.jQ.filter(".paren");j(t,nt(1+.2*(e-1),1.2),1.05*e)}}),C.choose=i(G,function(t){t.createBefore=S.prototype.createBefore}),C.vector=i(a,function(t,e){t.ctrlSeq="\\vector",t.htmlTemplate='<span class="array"><span>&0</span></span>',t.latex=function(){return"\\begin{matrix}"+this.foldChildren([],function(t,e){return t.push(e.latex()),t}).join("\\\\")+"\\end{matrix}"},t.text=function(){return"["+this.foldChildren([],function(t,e){return t.push(e.text()),t}).join()+"]"},t.createBefore=function(t){e.createBefore.call(this,this.cursor=t)},t.onKey=function(t,e){var r,i=this.cursor.parent;if(i.parent===this){if("Enter"===t)return(r=u()).parent=this,r.jQ=et("<span></span>").attr(it,r.id).insertAfter(i.jQ),i.next?i.next.prev=r:this.lastChild=r,r.next=i.next,(i.next=r).prev=i,this.bubble("redraw").cursor.appendTo(r),e.preventDefault(),!1;if("Tab"===t&&!i.next)return i.isEmpty()?i.prev?(this.cursor.insertAfter(this),delete i.prev.next,this.lastChild=i.prev,i.jQ.remove(),this.bubble("redraw"),e.preventDefault(),!1):void 0:((r=u()).parent=this,r.jQ=et("<span></span>").attr(it,r.id).appendTo(this.jQ),this.lastChild=r,(i.next=r).prev=i,this.bubble("redraw").cursor.appendTo(r),e.preventDefault(),!1);if(8===e.which){if(i.isEmpty())return i.prev?(this.cursor.appendTo(i.prev),i.prev.next=i.next):(this.cursor.insertBefore(this),this.firstChild=i.next),i.next?i.next.prev=i.prev:this.lastChild=i.prev,i.jQ.remove(),this.isEmpty()?this.cursor.deleteForward():this.bubble("redraw"),e.preventDefault(),!1;if(!this.cursor.prev)return e.preventDefault(),!1}}}}),C.editable=i(b,function(t,i){t.init=function(){a.prototype.init.call(this,"\\editable")},t.jQadd=function(){var t,e,r=this;i.jQadd.apply(r,arguments),t=r.firstChild.disown(),e=r.jQ.children().detach(),r.firstChild=r.lastChild=x(),r.blocks=[r.firstChild],o((r.firstChild.parent=r).jQ,r.firstChild,!1,!0),r.cursor=r.firstChild.cursor,t.children().adopt(r.firstChild,0,0),e.appendTo(r.firstChild.jQ),r.firstChild.cursor.appendTo(r.firstChild)},t.latex=function(){return this.firstChild.latex()},t.text=function(){return this.firstChild.text()}}),C.f=t(l,"f",'<var class="florin">&fnof;</var><span style="display:inline-block;width:0">&nbsp;</span>'),z=i(l,function(t,r){t.init=function(t,e){r.init.call(this,t,"<var>"+(e||t)+"</var>")},t.text=function(){var t=this.ctrlSeq;return!this.prev||this.prev instanceof z||this.prev instanceof _||(t="*"+t),!this.next||this.next instanceof _||"^"===this.next.ctrlSeq||(t+="*"),t}}),D=i(l,function(t,r){t.init=function(t,e){r.init.call(this,t,"<span>"+(e||t)+"</span>")}}),w[" "]=t(D,"\\:"," "),C.prime=w["'"]=t(D,"'","&prime;"),X=i(l,function(t,r){t.init=function(t,e){r.init.call(this,t,'<span class="nonSymbola">'+(e||t)+"</span>")}}),C["@"]=X,C["&"]=t(X,"\\&","&amp;"),C["%"]=t(X,"\\%","%"),C.alpha=C.beta=C.gamma=C.delta=C.zeta=C.eta=C.theta=C.iota=C.kappa=C.mu=C.nu=C.xi=C.rho=C.sigma=C.tau=C.chi=C.psi=C.omega=i(z,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),C.phi=t(z,"\\phi ","&#981;"),C.phiv=C.varphi=t(z,"\\varphi ","&phi;"),C.epsilon=t(z,"\\epsilon ","&#1013;"),C.epsiv=C.varepsilon=t(z,"\\varepsilon ","&epsilon;"),C.piv=C.varpi=t(z,"\\varpi ","&piv;"),C.sigmaf=C.sigmav=C.varsigma=t(z,"\\varsigma ","&sigmaf;"),C.thetav=C.vartheta=C.thetasym=t(z,"\\vartheta ","&thetasym;"),C.upsilon=C.upsi=t(z,"\\upsilon ","&upsilon;"),C.gammad=C.Gammad=C.digamma=t(z,"\\digamma ","&#989;"),C.kappav=C.varkappa=t(z,"\\varkappa ","&#1008;"),C.rhov=C.varrho=t(z,"\\varrho ","&#1009;"),C.pi=C["π"]=t(X,"\\pi ","&pi;"),C.lambda=t(X,"\\lambda ","&lambda;"),C.Upsilon=C.Upsi=C.upsih=C.Upsih=t(l,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),C.Gamma=C.Delta=C.Theta=C.Lambda=C.Xi=C.Pi=C.Sigma=C.Phi=C.Psi=C.Omega=C.forall=i(D,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),Z=i(a,function(t){t.init=function(t){this.latex=t},t.createBefore=function(t){t.writeLatex(this.latex)},t.parser=function(){var t=N.parse(this.latex).children();return c.succeed(t)}}),C["¹"]=t(Z,"^1"),C["²"]=t(Z,"^2"),C["³"]=t(Z,"^3"),C["¼"]=t(Z,"\\frac14"),C["½"]=t(Z,"\\frac12"),C["¾"]=t(Z,"\\frac34"),_=i(l,function(t,i){t.init=function(t,e,r){i.init.call(this,t,'<span class="binary-operator">'+e+"</span>",r)}}),V=i(_,function(t){t.init=D.prototype.init,t.respace=function(){return this.prev?this.prev instanceof _&&this.next&&!(this.next instanceof _)?this.jQ[0].className="unary-operator":this.jQ[0].className="binary-operator":this.jQ[0].className="",this}}),C["+"]=t(V,"+","+"),C["–"]=C["-"]=t(V,"-","&minus;"),C["±"]=C.pm=C.plusmn=C.plusminus=t(V,"\\pm ","&plusmn;"),C.mp=C.mnplus=C.minusplus=t(V,"\\mp ","&#8723;"),w["*"]=C.sdot=C.cdot=t(_,"\\cdot ","&middot;"),C["="]=t(_,"=","="),C["<"]=t(_,"<","&lt;"),C[">"]=t(_,">","&gt;"),C.notin=C.sim=C.cong=C.equiv=C.oplus=C.otimes=i(_,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),C.times=t(_,"\\times ","&times;","[x]"),C["÷"]=C.div=C.divide=C.divides=t(_,"\\div ","&divide;","[/]"),C["≠"]=C.ne=C.neq=t(_,"\\ne ","&ne;"),C.ast=C.star=C.loast=C.lowast=t(_,"\\ast ","&lowast;"),C.therefor=C.therefore=t(_,"\\therefore ","&there4;"),C.cuz=C.because=t(_,"\\because ","&#8757;"),C.prop=C.propto=t(_,"\\propto ","&prop;"),C["≈"]=C.asymp=C.approx=t(_,"\\approx ","&asymp;"),C.lt=t(_,"<","&lt;"),C.gt=t(_,">","&gt;"),C["≤"]=C.le=C.leq=t(_,"\\le ","&le;"),C["≥"]=C.ge=C.geq=t(_,"\\ge ","&ge;"),C.isin=C.in=t(_,"\\in ","&isin;"),C.ni=C.contains=t(_,"\\ni ","&ni;"),C.notni=C.niton=C.notcontains=C.doesnotcontain=t(_,"\\not\\ni ","&#8716;"),C.sub=C.subset=t(_,"\\subset ","&sub;"),C.sup=C.supset=C.superset=t(_,"\\supset ","&sup;"),C.nsub=C.notsub=C.nsubset=C.notsubset=t(_,"\\not\\subset ","&#8836;"),C.nsup=C.notsup=C.nsupset=C.notsupset=C.nsuperset=C.notsuperset=t(_,"\\not\\supset ","&#8837;"),C.sube=C.subeq=C.subsete=C.subseteq=t(_,"\\subseteq ","&sube;"),C.supe=C.supeq=C.supsete=C.supseteq=C.supersete=C.superseteq=t(_,"\\supseteq ","&supe;"),C.nsube=C.nsubeq=C.notsube=C.notsubeq=C.nsubsete=C.nsubseteq=C.notsubsete=C.notsubseteq=t(_,"\\not\\subseteq ","&#8840;"),C.nsupe=C.nsupeq=C.notsupe=C.notsupeq=C.nsupsete=C.nsupseteq=C.notsupsete=C.notsupseteq=C.nsupersete=C.nsuperseteq=C.notsupersete=C.notsuperseteq=t(_,"\\not\\supseteq ","&#8841;"),$=i(l,function(t,r){t.init=function(t,e){r.init.call(this,t,"<big>"+e+"</big>")}}),C["∑"]=C.sum=C.summation=t($,"\\sum ","&sum;"),C["∏"]=C.prod=C.product=t($,"\\prod ","&prod;"),C.coprod=C.coproduct=t($,"\\coprod ","&#8720;"),C["∫"]=C.int=C.integral=t($,"\\int ","&int;"),C.N=C.naturals=C.Naturals=t(D,"\\mathbb{N}","&#8469;"),C.P=C.primes=C.Primes=C.projective=C.Projective=C.probability=C.Probability=t(D,"\\mathbb{P}","&#8473;"),C.Z=C.integers=C.Integers=t(D,"\\mathbb{Z}","&#8484;"),C.Q=C.rationals=C.Rationals=t(D,"\\mathbb{Q}","&#8474;"),C.R=C.reals=C.Reals=t(D,"\\mathbb{R}","&#8477;"),C.C=C.complex=C.Complex=C.complexes=C.Complexes=C.complexplane=C.Complexplane=C.ComplexPlane=t(D,"\\mathbb{C}","&#8450;"),C.H=C.Hamiltonian=C.quaternions=C.Quaternions=t(D,"\\mathbb{H}","&#8461;"),C.quad=C.emsp=t(D,"\\quad ","    "),C.qquad=t(D,"\\qquad ","        "),C.diamond=t(D,"\\diamond ","&#9671;"),C.bigtriangleup=t(D,"\\bigtriangleup ","&#9651;"),C.ominus=t(D,"\\ominus ","&#8854;"),C.uplus=t(D,"\\uplus ","&#8846;"),C.bigtriangledown=t(D,"\\bigtriangledown ","&#9661;"),C.sqcap=t(D,"\\sqcap ","&#8851;"),C.triangleleft=t(D,"\\triangleleft ","&#8882;"),C.sqcup=t(D,"\\sqcup ","&#8852;"),C.triangleright=t(D,"\\triangleright ","&#8883;"),C.odot=t(D,"\\odot ","&#8857;"),C.bigcirc=t(D,"\\bigcirc ","&#9711;"),C.dagger=t(D,"\\dagger ","&#0134;"),C.ddagger=t(D,"\\ddagger ","&#135;"),C.wr=t(D,"\\wr ","&#8768;"),C.amalg=t(D,"\\amalg ","&#8720;"),C.models=t(D,"\\models ","&#8872;"),C.prec=t(D,"\\prec ","&#8826;"),C.succ=t(D,"\\succ ","&#8827;"),C.preceq=t(D,"\\preceq ","&#8828;"),C.succeq=t(D,"\\succeq ","&#8829;"),C.simeq=t(D,"\\simeq ","&#8771;"),C.mid=t(D,"\\mid ","&#8739;"),C.ll=t(D,"\\ll ","&#8810;"),C.gg=t(D,"\\gg ","&#8811;"),C.parallel=t(D,"\\parallel ","&#8741;"),C.bowtie=t(D,"\\bowtie ","&#8904;"),C.sqsubset=t(D,"\\sqsubset ","&#8847;"),C.sqsupset=t(D,"\\sqsupset ","&#8848;"),C.smile=t(D,"\\smile ","&#8995;"),C.sqsubseteq=t(D,"\\sqsubseteq ","&#8849;"),C.sqsupseteq=t(D,"\\sqsupseteq ","&#8850;"),C.doteq=t(D,"\\doteq ","&#8784;"),C.frown=t(D,"\\frown ","&#8994;"),C.vdash=t(D,"\\vdash ","&#8870;"),C.dashv=t(D,"\\dashv ","&#8867;"),C.longleftarrow=t(D,"\\longleftarrow ","&#8592;"),C.longrightarrow=t(D,"\\longrightarrow ","&#8594;"),C.Longleftarrow=t(D,"\\Longleftarrow ","&#8656;"),C.Longrightarrow=t(D,"\\Longrightarrow ","&#8658;"),C.longleftrightarrow=t(D,"\\longleftrightarrow ","&#8596;"),C.updownarrow=t(D,"\\updownarrow ","&#8597;"),C.Longleftrightarrow=t(D,"\\Longleftrightarrow ","&#8660;"),C.Updownarrow=t(D,"\\Updownarrow ","&#8661;"),C.mapsto=t(D,"\\mapsto ","&#8614;"),C.nearrow=t(D,"\\nearrow ","&#8599;"),C.hookleftarrow=t(D,"\\hookleftarrow ","&#8617;"),C.hookrightarrow=t(D,"\\hookrightarrow ","&#8618;"),C.searrow=t(D,"\\searrow ","&#8600;"),C.leftharpoonup=t(D,"\\leftharpoonup ","&#8636;"),C.rightharpoonup=t(D,"\\rightharpoonup ","&#8640;"),C.swarrow=t(D,"\\swarrow ","&#8601;"),C.leftharpoondown=t(D,"\\leftharpoondown ","&#8637;"),C.rightharpoondown=t(D,"\\rightharpoondown ","&#8641;"),C.nwarrow=t(D,"\\nwarrow ","&#8598;"),C.ldots=t(D,"\\ldots ","&#8230;"),C.cdots=t(D,"\\cdots ","&#8943;"),C.vdots=t(D,"\\vdots ","&#8942;"),C.ddots=t(D,"\\ddots ","&#8944;"),C.surd=t(D,"\\surd ","&#8730;"),C.triangle=t(D,"\\triangle ","&#9653;"),C.ell=t(D,"\\ell ","&#8467;"),C.top=t(D,"\\top ","&#8868;"),C.flat=t(D,"\\flat ","&#9837;"),C.natural=t(D,"\\natural ","&#9838;"),C.sharp=t(D,"\\sharp ","&#9839;"),C.wp=t(D,"\\wp ","&#8472;"),C.bot=t(D,"\\bot ","&#8869;"),C.clubsuit=t(D,"\\clubsuit ","&#9827;"),C.diamondsuit=t(D,"\\diamondsuit ","&#9826;"),C.heartsuit=t(D,"\\heartsuit ","&#9825;"),C.spadesuit=t(D,"\\spadesuit ","&#9824;"),C.oint=t(D,"\\oint ","&#8750;"),C.bigcap=t(D,"\\bigcap ","&#8745;"),C.bigcup=t(D,"\\bigcup ","&#8746;"),C.bigsqcup=t(D,"\\bigsqcup ","&#8852;"),C.bigvee=t(D,"\\bigvee ","&#8744;"),C.bigwedge=t(D,"\\bigwedge ","&#8743;"),C.bigodot=t(D,"\\bigodot ","&#8857;"),C.bigotimes=t(D,"\\bigotimes ","&#8855;"),C.bigoplus=t(D,"\\bigoplus ","&#8853;"),C.biguplus=t(D,"\\biguplus ","&#8846;"),C.lfloor=t(D,"\\lfloor ","&#8970;"),C.rfloor=t(D,"\\rfloor ","&#8971;"),C.lceil=t(D,"\\lceil ","&#8968;"),C.rceil=t(D,"\\rceil ","&#8969;"),C.slash=t(D,"\\slash ","&#47;"),C.opencurlybrace=t(D,"\\opencurlybrace ","&#123;"),C.closecurlybrace=t(D,"\\closecurlybrace ","&#125;"),C.caret=t(D,"\\caret ","^"),C.underscore=t(D,"\\underscore ","_"),C.backslash=t(D,"\\backslash ","\\"),C.vert=t(D,"|"),C.perp=C.perpendicular=t(D,"\\perp ","&perp;"),C.nabla=C.del=t(D,"\\nabla ","&nabla;"),C.hbar=t(D,"\\hbar ","&#8463;"),C.AA=C.Angstrom=C.angstrom=t(D,"\\text\\AA ","&#8491;"),C.ring=C.circ=C.circle=t(D,"\\circ ","&#8728;"),C.bull=C.bullet=t(D,"\\bullet ","&bull;"),C.setminus=C.smallsetminus=t(D,"\\setminus ","&#8726;"),C.not=C["¬"]=C.neg=t(D,"\\neg ","&not;"),C["…"]=C.dots=C.ellip=C.hellip=C.ellipsis=C.hellipsis=t(D,"\\dots ","&hellip;"),C.converges=C.darr=C.dnarr=C.dnarrow=C.downarrow=t(D,"\\downarrow ","&darr;"),C.dArr=C.dnArr=C.dnArrow=C.Downarrow=t(D,"\\Downarrow ","&dArr;"),C.diverges=C.uarr=C.uparrow=t(D,"\\uparrow ","&uarr;"),C.uArr=C.Uparrow=t(D,"\\Uparrow ","&uArr;"),C.to=t(_,"\\to ","&rarr;"),C.rarr=C.rightarrow=t(D,"\\rightarrow ","&rarr;"),C.implies=t(_,"\\Rightarrow ","&rArr;"),C.rArr=C.Rightarrow=t(D,"\\Rightarrow ","&rArr;"),C.gets=t(_,"\\gets ","&larr;"),C.larr=C.leftarrow=t(D,"\\leftarrow ","&larr;"),C.impliedby=t(_,"\\Leftarrow ","&lArr;"),C.lArr=C.Leftarrow=t(D,"\\Leftarrow ","&lArr;"),C.harr=C.lrarr=C.leftrightarrow=t(D,"\\leftrightarrow ","&harr;"),C.iff=t(_,"\\Leftrightarrow ","&hArr;"),C.hArr=C.lrArr=C.Leftrightarrow=t(D,"\\Leftrightarrow ","&hArr;"),C.Re=C.Real=C.real=t(D,"\\Re ","&real;"),C.Im=C.imag=C.image=C.imagin=C.imaginary=C.Imaginary=t(D,"\\Im ","&image;"),C.part=C.partial=t(D,"\\partial ","&part;"),C.inf=C.infin=C.infty=C.infinity=t(D,"\\infty ","&infin;"),C.alef=C.alefsym=C.aleph=C.alephsym=t(D,"\\aleph ","&alefsym;"),C.xist=C.xists=C.exist=C.exists=t(D,"\\exists ","&exist;"),C.and=C.land=C.wedge=t(D,"\\wedge ","&and;"),C.or=C.lor=C.vee=t(D,"\\vee ","&or;"),C.o=C.O=C.empty=C.emptyset=C.oslash=C.Oslash=C.nothing=C.varnothing=t(_,"\\varnothing ","&empty;"),C.cup=C.union=t(_,"\\cup ","&cup;"),C.cap=C.intersect=C.intersection=t(_,"\\cap ","&cap;"),C.deg=C.degree=t(D,"^\\circ ","&deg;"),C.ang=C.angle=t(D,"\\angle ","&ang;"),I=i(l,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","<span>"+t+"</span>")},t.respace=function(){this.jQ[0].className=this.next instanceof T||this.next instanceof B?"":"non-italicized-function"}}),C.ln=C.lg=C.log=C.span=C.proj=C.det=C.dim=C.min=C.max=C.mod=C.lcm=C.gcd=C.gcf=C.hcf=C.lim=I,function(){var t,e=["sin","cos","tan","sec","cosec","csc","cotan","cot"];for(t in e)C[e[t]]=C[e[t]+"h"]=C["a"+e[t]]=C["arc"+e[t]]=C["a"+e[t]+"h"]=C["arc"+e[t]+"h"]=I}(),H=c.string,K=c.regex,G=c.letter,X=c.any,Z=c.optWhitespace,Y=c.succeed,J=c.fail,V=G.map(z),G=K(/^[^${}\\_^]/).map(D),V=K(/^[^\\]/).or(H("\\").then(K(/^[a-z]+/i).or(K(/^\s+/).result(" ")).or(X))).then(function(t){var e=C[t];return e?e(t).parser():J("unknown command: \\"+t)}).or(V).or(G),G=H("{").then(function(){return tt}).skip(H("}")),V=Z.then(G.or(V.map(function(t){var e=u();return t.adopt(e,0,0),e}))),tt=V.many().map(ht).skip(Z),Z=H("[").then(V.then(function(t){return"]"!==t.join("latex")?Y(t):J()}).many().map(ht).skip(Z)).skip(H("]")),(H=tt).block=V,H.optBlock=Z,N=H,F=i(function(t){function e(t,e){if(t.next[e])t.prependTo(t.next[e]);else if(t.prev[e])t.appendTo(t.prev[e]);else{var r=t.parent;do{var i,n=r[e];if(n&&("function"==typeof n&&(n=r[e](t)),!1===n||n instanceof u)){t.upDownCache[r.id]={parent:t.parent,prev:t.prev,next:t.next},n instanceof u&&((i=t.upDownCache[n.id])?i.next?t.insertBefore(i.next):t.appendTo(i.parent):(i=s(t).left,t.appendTo(n),t.seekHoriz(i,n)));break}r=r.parent.parent}while(r)}return t.clearSelection().show()}function s(t){var e=t.jQ.removeClass("cursor").offset();return t.jQ.addClass("cursor"),e}function a(t){t.upDownCache={}}t.init=function(t){this.parent=this.root=t;var e=this.jQ=this._jQ=et('<span class="cursor">&zwj;</span>');this.blink=function(){e.toggleClass("blink")},this.upDownCache={}},t.prev=0,t.next=0,t.parent=0,t.show=function(){return this.jQ=this._jQ.removeClass("blink"),"intervalId"in this?clearInterval(this.intervalId):(this.next?this.selection&&this.selection.first.prev===this.prev?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this.next.jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},t.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=et(),this},t.insertAt=function(t,e,r){var i=this.parent;this.parent=t,this.prev=e,this.next=r,i.blur()},t.insertBefore=function(t){return this.insertAt(t.parent,t.prev,t),this.parent.jQ.addClass("hasCursor"),this.jQ.insertBefore(t.jQ.first()),this},t.insertAfter=function(t){return this.insertAt(t.parent,t,t.next),this.parent.jQ.addClass("hasCursor"),this.jQ.insertAfter(t.jQ.last()),this},t.prependTo=function(t){return this.insertAt(t,0,t.firstChild),t.textarea?this.jQ.insertAfter(t.textarea):this.jQ.prependTo(t.jQ),t.focus(),this},t.appendTo=function(t){return this.insertAt(t,t.lastChild,0),this.jQ.appendTo(t.jQ),t.focus(),this},t.hopLeft=function(){return this.jQ.insertBefore(this.prev.jQ.first()),this.next=this.prev,this.prev=this.prev.prev,this},t.hopRight=function(){return this.jQ.insertAfter(this.next.jQ.last()),this.prev=this.next,this.next=this.next.next,this},t.moveLeftWithin=function(t){if(this.prev)this.prev.lastChild?this.appendTo(this.prev.lastChild):this.hopLeft();else{if(this.parent===t)return;this.parent.prev?this.appendTo(this.parent.prev):this.insertBefore(this.parent.parent)}},t.moveRightWithin=function(t){if(this.next)this.next.firstChild?this.prependTo(this.next.firstChild):this.hopRight();else{if(this.parent===t)return;this.parent.next?this.prependTo(this.parent.next):this.insertAfter(this.parent.parent)}},t.moveLeft=function(){return a(this),this.selection?this.insertBefore(this.selection.first).clearSelection():this.moveLeftWithin(this.root),this.show()},t.moveRight=function(){return a(this),this.selection?this.insertAfter(this.selection.last).clearSelection():this.moveRightWithin(this.root),this.show()},t.moveUp=function(){return e(this,"up")},t.moveDown=function(){return e(this,"down")},t.seek=function(t,e,r){a(this);var i,n,s=this.clearSelection().show();return t.hasClass("empty")?(s.prependTo(p[t.attr(it)]),s):(i=p[t.attr(rt)])instanceof l?(t.outerWidth()>2*(e-t.offset().left)?s.insertBefore(i):s.insertAfter(i),s):(i||((n=p[t.attr(it)])||(t=t.parent(),(i=p[t.attr(rt)])||(n=(n=p[t.attr(it)])||s.root))),i?s.insertAfter(i):s.appendTo(n),s.seekHoriz(e,s.root))},t.seekHoriz=function(t,e){for(var r,i=this,n=s(i).left-t;i.moveLeftWithin(e),r=n,0<(n=s(i).left-t)&&(i.prev||i.parent!==e););return r<-n&&i.moveRightWithin(e),i},t.writeLatex=function(t){var e=this;a(e),e.show().deleteSelection();var r=c.all,i=c.eof,t=N.skip(i).or(r.result(!1)).parse(t);return t&&(t.children().adopt(e.parent,e.prev,e.next),p.jQize(t.join("html")).insertBefore(e.jQ),e.prev=t.lastChild,t.finalizeInsert(),e.parent.bubble("redraw")),this.hide()},t.write=function(t){return a(this),this.show().insertCh(t)},t.insertCh=function(t){var e=(t.match(/^[a-eg-zA-Z]$/)?z:(e=w[t]||C[t])?e:D)(t);return this.selection&&(this.prev=this.selection.first.prev,this.next=this.selection.last.next,e.replaces(this.selection),delete this.selection),this.insertNew(e)},t.insertNew=function(t){return t.createBefore(this),this},t.insertCmd=function(t,e){var r=C[t];return r?(r=r(t),e&&r.replaces(e),this.insertNew(r)):((r=E()).replaces(t),r.firstChild.focus=function(){return delete this.focus,this},this.insertNew(r).insertAfter(r),e&&e.remove()),this},t.unwrapGramp=function(){var e=this.parent.parent,r=e.parent,i=e.next,n=e.prev;if(e.disown().eachChild(function(t){t.isEmpty()||(t.children().adopt(r,n,i).each(function(t){t.jQ.insertBefore(e.jQ.first())}),n=t.lastChild)}),!this.next)if(this.prev)this.next=this.prev.next;else for(;!this.next;){if(this.parent=this.parent.next,!this.parent){this.next=e.next,this.parent=r;break}this.next=this.parent.firstChild}this.next?this.insertBefore(this.next):this.appendTo(r),e.jQ.remove(),e.prev&&e.prev.respace(),e.next&&e.next.respace()},t.backspace=function(){if(a(this),this.show(),!this.deleteSelection())if(this.prev)this.prev.isEmpty()?this.prev=this.prev.remove().prev:this.selectLeft();else if(this.parent!==this.root){if(this.parent.parent.isEmpty())return this.insertAfter(this.parent.parent).backspace();this.unwrapGramp()}return this.prev&&this.prev.respace(),this.next&&this.next.respace(),this.parent.bubble("redraw"),this},t.deleteForward=function(){if(a(this),this.show(),!this.deleteSelection())if(this.next)this.next.isEmpty()?this.next=this.next.remove().next:this.selectRight();else if(this.parent!==this.root){if(this.parent.parent.isEmpty())return this.insertBefore(this.parent.parent).deleteForward();this.unwrapGramp()}return this.prev&&this.prev.respace(),this.next&&this.next.respace(),this.parent.bubble("redraw"),this},t.selectFrom=function(t){var e,r,i,n=this,s=t;t:for(;;){for(var a=this;a!==n.parent.parent;a=a.parent.parent)if(a.parent===s.parent){e=a,r=s;break t}for(var o=t;o!==s.parent.parent;o=o.parent.parent)if(n.parent===o.parent){e=n,r=o;break t}n.parent.parent&&(n=n.parent.parent),s.parent.parent&&(s=s.parent.parent)}if(e.next!==r){for(var h=e;h;h=h.next)if(h===r.prev){i=!0;break}i||(i=r,r=e,e=i)}this.hide().selection=M(e.prev.next||e.parent.firstChild,r.next.prev||r.parent.lastChild),this.insertAfter(r.next.prev||r.parent.lastChild),this.root.selectionChanged()},t.selectLeft=function(){if(a(this),this.selection)if(this.selection.first===this.next)this.prev?this.hopLeft().selection.extendLeft():this.parent!==this.root&&this.insertBefore(this.parent.parent).selection.levelUp();else{if(this.hopLeft(),this.selection.first===this.selection.last)return void this.clearSelection().show();this.selection.retractLeft()}else{if(this.prev)this.hopLeft();else{if(this.parent===this.root)return;this.insertBefore(this.parent.parent)}this.hide().selection=M(this.next)}this.root.selectionChanged()},t.selectRight=function(){if(a(this),this.selection)if(this.selection.last===this.prev)this.next?this.hopRight().selection.extendRight():this.parent!==this.root&&this.insertAfter(this.parent.parent).selection.levelUp();else{if(this.hopRight(),this.selection.first===this.selection.last)return void this.clearSelection().show();this.selection.retractRight()}else{if(this.next)this.hopRight();else{if(this.parent===this.root)return;this.insertAfter(this.parent.parent)}this.hide().selection=M(this.prev)}this.root.selectionChanged()},t.prepareMove=function(){return a(this),this.show().clearSelection()},t.prepareEdit=function(){return a(this),this.show().deleteSelection()},t.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.root.selectionChanged()),this},t.deleteSelection=function(){return!!this.selection&&(this.prev=this.selection.first.prev,this.next=this.selection.last.next,this.selection.remove(),this.root.selectionChanged(),delete this.selection)}}),M=i(f,function(t,e){t.init=function(){e.init.apply(this,arguments),this.jQwrap(this.jQ)},t.jQwrap=function(t){this.jQ=t.wrapAll('<span class="selection"></span>').parent()},t.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),e.adopt.apply(this,arguments)},t.clear=function(){return this.jQ.replaceWith(this.jQ.children()),this},t.levelUp=function(){var t=this,e=t.first=t.last=t.last.parent.parent;return t.clear().jQwrap(e.jQ),t},t.extendLeft=function(){this.first=this.first.prev,this.first.jQ.prependTo(this.jQ)},t.extendRight=function(){this.last=this.last.next,this.last.jQ.appendTo(this.jQ)},t.retractRight=function(){this.first.jQ.insertBefore(this.jQ),this.first=this.first.next},t.retractLeft=function(){this.last.jQ.insertAfter(this.jQ),this.last=this.last.prev}}),et.fn.mathquill=function(t,r){var e,i,n,s,a;switch(t){case"redraw":return this.each(function(){var t=et(this).attr(it),t=t&&p[t];t&&function t(e){e.eachChild(t),e.redraw&&e.redraw()}(t)});case"revert":return this.each(function(){var t=et(this).attr(it),t=t&&p[t];t&&t.revert&&t.revert()});case"latex":return 1<arguments.length?this.each(function(){var t=et(this).attr(it),t=t&&p[t];t&&t.renderLatex(r)}):(i=(e=et(this).attr(it))&&p[e])&&i.latex();case"text":return(i=(e=et(this).attr(it))&&p[e])&&i.text();case"html":return this.html().replace(/ ?hasCursor|hasCursor /,"").replace(/ class=(""|(?= |>))/g,"").replace(/<span class="?cursor( blink)?"?><\/span>/i,"").replace(/<span class="?textarea"?><textarea><\/textarea><\/span>/i,"");case"write":if(1<arguments.length)return this.each(function(){var t=et(this).attr(it),t=t&&p[t],t=t&&t.cursor;t&&t.writeLatex(r).parent.blur()});case"cmd":if(1<arguments.length)return this.each(function(){var t=et(this).attr(it),e=t&&p[t],t=e&&e.cursor;t&&(t.show(),/^\\[a-z]+$/i.test(r)?((e=t.selection)&&(t.prev=e.first.prev,t.next=e.last.next,delete t.selection),t.insertCmd(r.slice(1),e)):t.insertCh(r),t.hide().parent.blur())});default:return s=(n="textbox"===t)||"editable"===t,a=n?g:x,this.each(function(){o(et(this),a(),n,s)})}},et(function(){et(".mathquill-editable:not(.mathquill-rendered-math)").mathquill("editable"),et(".mathquill-textbox:not(.mathquill-rendered-math)").mathquill("textbox"),et(".mathquill-embedded-latex").mathquill()})}();